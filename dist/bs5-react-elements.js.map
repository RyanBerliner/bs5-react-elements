{"version":3,"file":"bs5-react-elements.js","sources":["../src/lib/hooks.js","../src/lib/Modal.jsx","../src/lib/Tooltip.jsx"],"sourcesContent":["import {useEffect, useRef} from 'react';\n\n/**\n * Hook to initialize a component, bind events, and expose bootstrap apis.\n *\n * @param {Object} Component Bootstrap component object (Modal, Tooltip, etc)\n * @param {Object} config (optional) Configuration object of the component\n * @param {Object} componentRef (optional) A ref to reference the component\n * @param {Object} domRef A ref pointing to the dom element of the component\n * @param {Map} events Mapping of bootstrap event names and function handlers\n */\nexport function useBootstrap(\n    Component,\n    config,\n    componentRef,\n    domRef,\n    events,\n) {\n  const initialConfig = useRef(config);\n\n  useEffect(() => {\n    const component = Component.getInstance(domRef.current) ||\n      new Component(domRef.current, initialConfig.current);\n    if (componentRef) {\n      componentRef.current = component;\n    }\n\n    return () => component.dispose();\n  }, [Component, componentRef, domRef]);\n\n  useEffect(() => {\n    const el = domRef.current;\n    events.forEach((value, key) => {\n      el.addEventListener(key, value);\n    });\n\n    return () => {\n      events.forEach((value, key) => {\n        el.removeEventListener(key, value);\n      });\n    };\n  }, [domRef, events]);\n}\n","import React, {useRef, useMemo} from 'react';\nimport PropTypes from 'prop-types';\nimport {Modal} from 'bootstrap';\nimport {useBootstrap} from './hooks.js';\n\n/**\n * Wrapper for the <a href=\"https://getbootstrap.com/docs/5.0/components/modal/\">Bootstrap modal component.</a>\n */\nfunction ModalComponent({\n  onShown,\n  onShow,\n  onHidden,\n  onHide,\n  onHidePrevented,\n  component,\n  config,\n  children,\n  ...props\n}) {\n  const componentElement = useRef();\n\n  const events = useMemo(() => {\n    return new Map([\n      ['shown.bs.modal', onShown],\n      ['show.bs.modal', onShow],\n      ['hidden.bs.modal', onHidden],\n      ['hide.bs.modal', onHide],\n      ['hidePrevented.bs.modal', onHidePrevented],\n    ]);\n  }, [onShown, onShow, onHidden, onHide, onHidePrevented]);\n\n  useBootstrap(Modal, config, component, componentElement, events);\n\n  return (\n    <div ref={componentElement} {...props}>\n      {children}\n    </div>\n  );\n}\n\nModalComponent.propTypes = {\n  /**\n   * Handler for the shown.bs.modal event\n   */\n  onShown: PropTypes.func,\n  /**\n   * Handler for the show.bs.modal event\n   */\n  onShow: PropTypes.func,\n  /**\n   * Handler for the hidden.bs.modal event\n   */\n  onHidden: PropTypes.func,\n  /**\n   * Handler for the hide.bs.modal event\n   */\n  onHide: PropTypes.func,\n  /**\n   * Handler for the hidePrevented.bs.modal event\n   */\n  onHidePrevented: PropTypes.func,\n  /**\n   * React ref that will be assigned the component instance\n   */\n  component: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({current: PropTypes.any}),\n  ]),\n  /**\n   * Component configuration\n   */\n  config: PropTypes.object,\n  /**\n   * Modal contents\n   */\n  children: PropTypes.node,\n};\n\nModalComponent.displayName = 'Modal';\n\nexport {ModalComponent as Modal};\n","import React, {useRef, useMemo} from 'react';\nimport PropTypes from 'prop-types';\nimport {Tooltip} from 'bootstrap';\nimport {useBootstrap} from './hooks.js';\n\n/**\n * Wrapper for the <a href=\"https://getbootstrap.com/docs/5.0/components/tooltips/\">Bootstrap tooltip component.</a>\n */\nfunction TooltipComponent({\n  onShown,\n  onShow,\n  onHidden,\n  onHide,\n  onInserted,\n  component,\n  config,\n  children,\n  as: ElementType,\n  ...props\n}) {\n  const componentElement = useRef();\n\n  const events = useMemo(() => {\n    return new Map([\n      ['shown.bs.tooltip', onShown],\n      ['show.bs.tooltip', onShow],\n      ['hidden.bs.tooltip', onHidden],\n      ['hide.bs.tooltip', onHide],\n      ['inserted.bs.tooltip', onInserted],\n    ]);\n  }, [onShown, onShow, onHidden, onHide, onInserted]);\n\n  useBootstrap(Tooltip, config, component, componentElement, events);\n\n  return (\n    <ElementType ref={componentElement} {...props}>\n      {children}\n    </ElementType>\n  );\n}\n\nTooltipComponent.propTypes = {\n  /**\n   * Handler for the shown.bs.tooltip event\n   */\n  onShown: PropTypes.func,\n  /**\n   * Handler for the show.bs.tooltip event\n   */\n  onShow: PropTypes.func,\n  /**\n   * Handler for the hidden.bs.tooltip event\n   */\n  onHidden: PropTypes.func,\n  /**\n   * Handler for the hide.bs.tooltip event\n   */\n  onHide: PropTypes.func,\n  /**\n   * Handler for the inserted.bs.tooltip event\n   */\n  onInserted: PropTypes.func,\n  /**\n   * React ref that will be assigned the component instance\n   */\n  component: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({current: PropTypes.any}),\n  ]),\n  /**\n   * Component configuration\n   */\n  config: PropTypes.object,\n  /**\n   * Tooltip contents\n   */\n  children: PropTypes.node,\n  /**\n   * The element type of the tooltip\n   */\n  as: PropTypes.elementType,\n};\n\nTooltipComponent.defaultProps = {\n  as: 'span',\n};\n\nTooltipComponent.displayName = 'Tooltip';\n\nexport {TooltipComponent as Tooltip};\n"],"names":["useBootstrap","Component","config","componentRef","domRef","events","initialConfig","useRef","useEffect","component","getInstance","current","dispose","el","forEach","value","key","addEventListener","removeEventListener","ModalComponent","onShown","onShow","onHidden","onHide","onHidePrevented","children","props","componentElement","useMemo","Map","Modal","React","displayName","TooltipComponent","onInserted","ElementType","as","Tooltip","defaultProps"],"mappings":"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"}